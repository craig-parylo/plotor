[{"path":"https://craig-parylo.github.io/plotor/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2024 plotor authors Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://craig-parylo.github.io/plotor/articles/using_plotor.html","id":"installing-plotor","dir":"Articles","previous_headings":"","what":"Installing plotor","title":"Using plotor","text":"plotor can installed via GitHub using devtools package: can also install latest released version Cran :","code":"# install.packages(\"devtools\") devtools::install_github(\"craig-parylo/plotor\") install.packages(\"plotor\")"},{"path":"https://craig-parylo.github.io/plotor/articles/using_plotor.html","id":"example-1---using-the-titanic-survivors-data-set","dir":"Articles","previous_headings":"","what":"Example 1 - using the Titanic survivors data set","title":"Using plotor","text":"Let’s start exploring likelihood surviving Titanic disaster based passenger economic status (class), sex, age group. Get prepare data datasets package. now tibble data containing four columns: Survived - outcome variable describing whether passenger survived Yes died , Class - passenger class, either 1st, 2nd, 3rd Crew, Sex - gender passenger, either Male Female, Age - whether passenger Adult Child. next conduct logistic regression survival (binary factor: ‘yes’ ‘’) characteristics passenger class, sex age group. use Generalised Linear Model function (glm) stats package, specifying: family ‘binomial’, formula survival function Class, Sex Age. Finally, can plot Odds Ratio survival using plot_or function.  plot makes clear : Children 2.89 times likely survive Adults, Passengers 2nd, 3rd class well Crew less likely survive 1st class, Women 11.25 times likely survive men.","code":"df <- datasets::Titanic |>    as_tibble() |>    # convert counts to observations   filter(n > 0) |>   uncount(weights = n) |>   # convert categorical variables to factors.   # we specify an order for levels in Class and Survival, otherwise ordering   # in descending order of frequency   mutate(     Class = Class |>       fct(levels = c('1st', '2nd', '3rd', 'Crew')),     Sex = Sex |>       fct_infreq(),     Age = Age |>       fct_infreq(),     Survived = Survived |>       fct(levels = c('No', 'Yes'))   )  # preview the data df |> glimpse() #> Rows: 2,201 #> Columns: 4 #> $ Class    <fct> 3rd, 3rd, 3rd, 3rd, 3rd, 3rd, 3rd, 3rd, 3rd, 3rd, 3rd, 3rd, 3… #> $ Sex      <fct> Male, Male, Male, Male, Male, Male, Male, Male, Male, Male, M… #> $ Age      <fct> Child, Child, Child, Child, Child, Child, Child, Child, Child… #> $ Survived <fct> No, No, No, No, No, No, No, No, No, No, No, No, No, No, No, N… # conduct a logistic regression of survival against the other variables lr <- glm(   data = df,   family = 'binomial',   formula = Survived ~ Class + Sex + Age )  # preview the model as a tidy table lr |>    tidy() |>    glimpse() #> Rows: 6 #> Columns: 5 #> $ term      <chr> \"(Intercept)\", \"Class2nd\", \"Class3rd\", \"ClassCrew\", \"SexFema… #> $ estimate  <dbl> -0.3762229, -1.0180950, -1.7777622, -0.8576762, 2.4200603, 1… #> $ std.error <dbl> 0.1361769, 0.1959969, 0.1715657, 0.1573387, 0.1404093, 0.244… #> $ statistic <dbl> -2.762751, -5.194443, -10.361993, -5.451147, 17.235750, 4.35… #> $ p.value   <dbl> 5.731642e-03, 2.053331e-07, 3.691891e-25, 5.004592e-08, 1.43… # using plot_or plot_or(glm_model_results = lr)"},{"path":"https://craig-parylo.github.io/plotor/articles/using_plotor.html","id":"note-on-plot-features","dir":"Articles","previous_headings":"Example 1 - using the Titanic survivors data set","what":"Note on plot features","title":"Using plotor","text":"primary components Odds-Ratio plot dots, whiskers line effect. dot represents point estimate Odds-Ratio, indicates much likely event comparator event. width whiskers represents 95% Confidence Interval, range values point estimate (dot) likely fall within study repeated, probability 95%. line effect set value 1. Events whose confidence intervals touch cross line considered show difference likelihood comparator event. size dots proportional number observations. , size Adult square much larger Child square, 20 times adults ship children. feature can help contextualise findings plots.","code":""},{"path":"https://craig-parylo.github.io/plotor/articles/using_plotor.html","id":"change-base-font-size","dir":"Articles","previous_headings":"Example 1 - using the Titanic survivors data set","what":"Change base font size","title":"Using plotor","text":"increase size font can extend returned plot using theme function ggplot2. set base size fonts plot size 16.","code":"plot_or(glm_model_results = lr) +    theme(text = element_text(size = 16))"},{"path":"https://craig-parylo.github.io/plotor/articles/using_plotor.html","id":"specify-the-breaks","dir":"Articles","previous_headings":"Example 1 - using the Titanic survivors data set","what":"Specify the breaks","title":"Using plotor","text":"Odds Ratio () plots produced plotor displayed using log10 x-axis. default ten breaks shown, however, can altered extending scale_x_log10 function ggplot2. provide manual list breaks use:","code":"plot_or(glm_model_results = lr) +    scale_x_log10(breaks = c(0.1, 0.5, 1, 5, 10))"},{"path":"https://craig-parylo.github.io/plotor/articles/using_plotor.html","id":"change-the-dot-and-whisker-colours","dir":"Articles","previous_headings":"Example 1 - using the Titanic survivors data set","what":"Change the dot and whisker colours","title":"Using plotor","text":"three types colours used dots whiskers plot, depending category. Significant refers dots results indicate significant finding 95% confidence intervals touch cross value 1 - line effect. Comparator refers level factor model Odds Ratios calculated. significant refers dots results indicate significant finding confidence intervals touch cross line effect. colours points can changed extending output using scale_colour_manual function ggplot2 named vector specifying colour values three types colours:","code":"plot_or(glm_model_results = lr) +   scale_colour_manual(values = c(     'Significant' = '#44bd32',     'Comparator' = '#8c7ae6',     'Not significant' = '#e84118')   )"},{"path":"https://craig-parylo.github.io/plotor/articles/using_plotor.html","id":"change-the-title-subtitle-and-add-a-caption","dir":"Articles","previous_headings":"Example 1 - using the Titanic survivors data set","what":"Change the title, subtitle and add a caption","title":"Using plotor","text":"plotor uses dependent variable title plot default subtitle indicating Odds Ratio plot 95% confidence interval. plot can customised title, subtitle add caption extending labs function ggplot2.","code":"plot_or(glm_model_results = lr) +   labs(     title = 'Passenger survival from the Titanic disaster',     subtitle = 'Odds Ratio of survival by Class, Age and Gender',     caption = 'Data source: Dawson, Robert J. MacG. (1995), The ‘Unusual Episode’ Data Revisited. Journal of Statistics Education, 3. doi:10.1080/10691898.1995.11910499'   )"},{"path":"https://craig-parylo.github.io/plotor/articles/using_plotor.html","id":"example-2---using-the-smoking-alcohol-and-oesophageal-cancer-data-set","dir":"Articles","previous_headings":"","what":"Example 2 - using the Smoking, Alcohol and Oesophageal Cancer data set","title":"Using plotor","text":"data set comes case-control study oesophageal cancer Ile-et-Vilaine, France. addition outcome variable, Group, identifying case (developed cancer) control (disease free), contains three explanatory variables: agegp - age group participant, alcgp - alcohol consumption participant, measured grams per day, tobgp - tobacco consumption participant, measured grams per day. look likelihood participant develop oesophageal cancer can perform logistic regression variables. Next carry logistic regression plot results.  can see strong link age likelihood cancer. Compared 25-34 years group statistically significant increased likelihood case cohort 45-54 years group (43 times likely), 55-64 years group (76 times likely), 65-74 years group (133 times likely), 75+ years group (124 times likely). also strong link alcohol consumption likelihood cancer. Compared consumed least alcohol, defined 0 39 g/day, consumed alcohol risk developing cancer greatest risk consumed 119 g/day, putting 36 times likely develop cancer. Tobacco use nuanced picture. detectable difference likelihood developing cancer first three groups (0-9g/day, 10-19g/day 20-29g/day) - seen confidence intervals crossing line effect. However, statistically significant increased risk developing cancer consumed tobacco, 30+g/day, putting 5 times risk.","code":"df <- datasets::esoph |>    # convert aggregated data to tidy observational data   tidyr::pivot_longer(     cols = c(ncases, ncontrols),     names_to = 'Group',     values_to = 'people'   ) |>    uncount(weights = people) |>    # prepare the variables   mutate(     # convert the intervention group to a factor     Group = Group |>        case_match('ncases' ~ 'Case', 'ncontrols' ~ 'Control') |>        fct(levels = c('Control', 'Case')),     # remove the ordering from these factors so the glm model doesn't treat     # them as numeric     agegp = agegp |> factor(ordered = F),     alcgp = alcgp |> factor(ordered = F),     tobgp = tobgp |> factor(ordered = F)   )  # preview the data df |> glimpse() #> Rows: 975 #> Columns: 4 #> $ agegp <fct> 25-34, 25-34, 25-34, 25-34, 25-34, 25-34, 25-34, 25-34, 25-34, 2… #> $ alcgp <fct> 0-39g/day, 0-39g/day, 0-39g/day, 0-39g/day, 0-39g/day, 0-39g/day… #> $ tobgp <fct> 0-9g/day, 0-9g/day, 0-9g/day, 0-9g/day, 0-9g/day, 0-9g/day, 0-9g… #> $ Group <fct> Control, Control, Control, Control, Control, Control, Control, C… # conduct the logistic regression lr <- glm(   data = df,   family = 'binomial',   formula = Group ~ agegp + alcgp + tobgp )  # plot the odds ratio plot with customised title plot_or(lr) +   labs(title = 'Likelihood of developing oesophageal cancer')"},{"path":"https://craig-parylo.github.io/plotor/articles/using_plotor.html","id":"use-variable-labels","dir":"Articles","previous_headings":"Example 2 - using the Smoking, Alcohol and Oesophageal Cancer data set","what":"Use variable labels","title":"Using plotor","text":"Replacing variable names descriptive label makes plots accessible involved analysis. example, Alcohol consumption (g/day) user-friendly label name variable, alcgp. amazing packages designed help label data. example use labelled package label data analysing plotting . Analyse data using logistic regression plot result.  plot_or recognises use labels uses preference variable names wherever available. Using variable labels makes plots easier read accessible, especially useful want include chart reports publications.","code":"# library to apply labels to data library(labelled)  # create a list of variable = labels var_labels <- list(   agegp = 'Age group',   alcgp = 'Alcohol consumption',   tobgp = 'Tobacco consumption',   Group = 'Developing oesophageal cancer' )  # label the variables in our data labelled::var_label(df) <- var_labels  # preview the data with labels appplied  labelled::look_for(df) #>  pos variable label                         col_type missing values    #>  1   agegp    Age group                     fct      0       25-34     #>                                                              35-44     #>                                                              45-54     #>                                                              55-64     #>                                                              65-74     #>                                                              75+       #>  2   alcgp    Alcohol consumption           fct      0       0-39g/day #>                                                              40-79     #>                                                              80-119    #>                                                              120+      #>  3   tobgp    Tobacco consumption           fct      0       0-9g/day  #>                                                              10-19     #>                                                              20-29     #>                                                              30+       #>  4   Group    Developing oesophageal cancer fct      0       Control   #>                                                              Case # conduct the logistic regression lr <- glm(   data = df,   family = 'binomial',   formula = Group ~ agegp + alcgp + tobgp )  # plot the odds ratio plot using variable labels plot_or(lr)"},{"path":"https://craig-parylo.github.io/plotor/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Craig Parylo. Author, maintainer, copyright holder.","code":""},{"path":"https://craig-parylo.github.io/plotor/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Parylo C (2024). plotor: Produces Odds Ratio Plot Logistic Regression Model. R package version 0.5.0, https://craig-parylo.github.io/plotor/, https://github.com/craig-parylo/plotor.","code":"@Manual{,   title = {plotor: Produces an Odds Ratio Plot from a Logistic Regression Model},   author = {Craig Parylo},   year = {2024},   note = {R package version 0.5.0, https://craig-parylo.github.io/plotor/},   url = {https://github.com/craig-parylo/plotor}, }"},{"path":"https://craig-parylo.github.io/plotor/index.html","id":"plotor-","dir":"","previous_headings":"","what":"Produces an Odds Ratio Plot from a Logistic Regression Model","title":"Produces an Odds Ratio Plot from a Logistic Regression Model","text":"goal plotor generate Odds Ratio plots logistic regression models.","code":""},{"path":"https://craig-parylo.github.io/plotor/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Produces an Odds Ratio Plot from a Logistic Regression Model","text":"can install development version plotor GitHub : can also install latest released version Cran :","code":"# install.packages(\"devtools\") devtools::install_github(\"craig-parylo/plotor\") install.packages(\"plotor\")"},{"path":"https://craig-parylo.github.io/plotor/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Produces an Odds Ratio Plot from a Logistic Regression Model","text":"example explore likelihood surviving Titanic disaster based passenger economic status (class), sex, age group. addition plotor packages use include dplyr, tidyr forcats general data wrangling, stats package conduct logistic regression followed broom tidy output convert results Odds Ratios confidence intervals, ggplot2 visualise plot. Start getting data datasets package. now tibble data containing four columns: Survived - outcome variable describing whether passenger survived Yes died , Class - passenger class, either 1st, 2nd, 3rd Crew, Sex - gender passenger, either Male Female, Age - whether passenger Adult Child. next conduct logistic regression survival (binary factor: ‘yes’ ‘’) characteristics passenger class, sex age group. use Generalised Linear Model function (glm) stats package, specifying: family ‘binomial’, formula survival function Class, Sex Age. Finally, can plot Odds Ratio survival using plot_or function.  plot makes clear : Children 2.89 times likely survive Adults, Passengers 2nd, 3rd class well Crew less likely survive 1st class, Women 11.25 times likely survive men.","code":"library(plotor)      # generates Odds Ratio plots library(datasets)    # source of example data library(dplyr)       # data wrangling library(tidyr)       # data wrangling - uncounting aggregated data library(forcats)     # data wrangling - handling factor variables library(stats)       # perform logistic regression using glm function library(broom)       # tidying glm model and producing OR and CI library(ggplot2)     # data visualisation df <- datasets::Titanic |>    as_tibble() |>    # convert counts to observations   filter(n > 0) |>   uncount(weights = n) |>   # convert categorical variables to factors.   # we specify an order for levels in Class and Survival, otherwise ordering   # in descending order of frequency   mutate(     Class = Class |>       fct(levels = c('1st', '2nd', '3rd', 'Crew')),     Sex = Sex |>       fct_infreq(),     Age = Age |>       fct_infreq(),     Survived = Survived |>       fct(levels = c('No', 'Yes'))   ) # conduct a logistic regression of survival against the other variables lr <- glm(   data = df,    family = 'binomial',    formula = Survived ~ Class + Sex + Age   ) # using plot_or  plot_or(glm_model_results = lr)"},{"path":"https://craig-parylo.github.io/plotor/reference/plot_or.html","id":null,"dir":"Reference","previous_headings":"","what":"Plot OR — plot_or","title":"Plot OR — plot_or","text":"Produces Odds Ratio plot visualise results logistic regression analysis.","code":""},{"path":"https://craig-parylo.github.io/plotor/reference/plot_or.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Plot OR — plot_or","text":"","code":"plot_or(glm_model_results)"},{"path":"https://craig-parylo.github.io/plotor/reference/plot_or.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Plot OR — plot_or","text":"glm_model_results Results binomial Generalised Linear Model (GLM), produced stats::glm().","code":""},{"path":"https://craig-parylo.github.io/plotor/reference/plot_or.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Plot OR — plot_or","text":"plotor returns object class gg ggplot","code":""},{"path":[]},{"path":"https://craig-parylo.github.io/plotor/reference/plot_or.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Plot OR — plot_or","text":"","code":"# libraries library(plotor) library(datasets) library(dplyr) #>  #> Attaching package: ‘dplyr’ #> The following objects are masked from ‘package:stats’: #>  #>     filter, lag #> The following objects are masked from ‘package:base’: #>  #>     intersect, setdiff, setequal, union library(ggplot2) library(stats) library(forcats) library(tidyr)  # get some data df <- datasets::Titanic |>   as_tibble() |>   # convert aggregated counts to individual observations   filter(n > 0) |>   uncount(weights = n) |>   # convert character variables to factors   mutate(across(where(is.character), as.factor))  # perform logistic regression using `glm` lr <- glm(   data = df,   family = 'binomial',   formula = Survived ~ Class + Sex + Age )  # produce the Odds Ratio plot plot_or(lr) #> Warning: Removed 3 rows containing missing values or values outside the scale range #> (`geom_point()`). #> Warning: Removed 3 rows containing missing values or values outside the scale range #> (`geom_errorbarh()`). #> Warning: Removed 5 rows containing missing values or values outside the scale range #> (`geom_point()`)."},{"path":"https://craig-parylo.github.io/plotor/news/index.html","id":"plotor-050","dir":"Changelog","previous_headings":"","what":"plotor 0.5.0","title":"plotor 0.5.0","text":"Odds Ratio plots now respect order terms typed glm() formula","code":""},{"path":"https://craig-parylo.github.io/plotor/news/index.html","id":"plotor-010","dir":"Changelog","previous_headings":"","what":"plotor 0.1.0","title":"plotor 0.1.0","text":"Initial CRAN submission.","code":""}]
